:;exec emacs -l "$0" -f main "$@" # -*- mode: lisp -*-

; Editng a file with emacs 23+ in unibyte mode; 2nd method

; 2021 (c) Hin-Tak Leung

; We empty the command-line-args-left list at the end to avoid open the file
; twice, once in uni-byte mode then immediately as multi-byte mode.

(defun main ()
  (setq unibyte-display-via-language-environment t)
  ; find-file-literally needs a string, not a symbol as input.
  (find-file-literally (format "%s" (car (last command-line-args-left))))
  (setq command-line-args-left nil)             ; avoid opening file twice
  )
