:;exec emacs -l "$0" -f main "$@" # -*- mode: lisp -*-

; This is somewhat a failure as it tries to open the file
; twice, once in uni-byte mode then immediately as multi-byte mode.
; User is prompted to cancel the 2nd opening.

(defun find-last (list)
  (if (null (cdr list))
      (car list)
    (find-last (cdr list))))

(defun main ()
  (setq unibyte-display-via-language-environment t)
  ; find-file-literally needs a string, not a symbol as input.
  (find-file-literally (format "%s" (find-last command-line-args-left))))

;(main)
